@using PCStore_MVC.Models.ModelDB
@model HomeIndexViewModel
@{
    ViewData["Title"] = "Home Page";
	string currentItem = "";
}

@if (Model is not null)
{
	<div id="categories" class="carousel slide" data-bs-ride="carousel"
	     data-bs-interval="3000" data-keyboard="true">
		<ol class="carousel-indicators">
			@for (int c = 0; c < Model.Categories.Count; c++)
			{
				if (c == 0)
				{
					currentItem = "active";
				}
				else
				{
					currentItem = "";
				}
				<li data-bs-target="#categories" data-bs-slide-to="@c"
				    class="@currentItem"></li>
			}
		</ol>

		<div class="carousel-inner">
			@for (int c = 0; c < Model.Categories.Count; c++)
			{
				if (c == 0)
				{
					currentItem = "active";
				}
				else
				{
					currentItem = "";
				}
				<div class="carousel-item @currentItem">
					<img class="d-block w-100" src="~/images/category@(Model.Categories[c].CategoryId).jpg"
					     alt="@Model.Categories[c].CategoryName" />
					<div class="carousel-caption d-none d-md-block">
						<h2>@Model.Categories[c].CategoryName</h2>
						<h3>@Model.Categories[c].Description</h3>
						<p>
							<a asp-controller="Home" asp-action="CategoryDetail"
					   asp-route-id="@Model.Categories[c].CategoryId" class="btn btn-primary">Смотреть</a>
						</p>
					</div>
				</div>
			}
		</div>
		<a class="carousel-control-prev" href="#categories"
		   role="button" data-bs-slide="prev">
			<span class="carousel-control-prev-icon"
			      aria-hidden="true"></span>
			<span class="sr-only">Предыдущее</span>
		</a>
		<a class="carousel-control-next" href="#categories"
		   role="button" data-bs-slide="next">
			<span class="carousel-control-next-icon" aria-hidden="true"></span>
			<span class="sr-only">Следующее</span>
		</a>
	</div>

	<div class="row">
		<div class="col-md-12">
			<h1>PCStore</h1>
			<p class="lead">
				Наш сайт используют @Model.Users.Count пользователей.
			</p>
		</div>
	</div>
}